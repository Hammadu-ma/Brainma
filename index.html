<!--
Brainma - Starter Website (index.html)

How to use:
1. Open this file in the canvas preview or save as index.html locally.
2. Edit the `DATA` array below to add your videos, books, and past papers.
3. Put media files (videos, PDFs, images) in a `media/` folder in the repo and update the `url` fields.
4. To host on GitHub Pages: create a new GitHub repo, push this file as index.html (and media/), then enable Pages in repo settings.

Structure built in this single-file starter:
- Top navigation: choose Grade (9-12) and Resource type (Videos, Books, PastPapers, Sheets)
- Content area lists resources from the DATA array
- Video resources have extra `unit` and `subject` fields and support filtering by unit & subject
- Simple modal viewer for previewing videos (HTML5) and PDFs (embedded)
- Download buttons for each resource

This is intentionally plain HTML/CSS/JS (no frameworks) so it's GitHub Pages-friendly and easy to extend.
--><!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Brainma — High School Library (Starter)</title>
  <style>
    :root{--accent:#0b6ef6;--bg:#f6f8fb;--card:#fff;--muted:#6b7280}
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:var(--bg);color:#0f172a}
    header{background:linear-gradient(90deg,#ffffffcc, #f3f7ff);backdrop-filter:blur(6px);padding:18px 20px;display:flex;gap:12px;align-items:center}
    .brand{font-weight:700;font-size:18px;color:var(--accent)}
    .controls{display:flex;gap:10px;align-items:center;margin-left:auto}
    select,input[type=search]{padding:8px 10px;border-radius:8px;border:1px solid #e6edf6;background:#fff}
    main{padding:20px;max-width:1100px;margin:18px auto}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:14px}
    .card{background:var(--card);padding:12px;border-radius:12px;box-shadow:0 6px 18px rgba(12,20,40,0.06);display:flex;flex-direction:column;gap:8px}
    .thumb{height:140px;border-radius:8px;background:#eef3ff;display:flex;align-items:center;justify-content:center;overflow:hidden}
    .thumb img, .thumb video{width:100%;height:100%;object-fit:cover}
    .meta{font-size:13px;color:var(--muted)}
    .title{font-weight:600}
    .row{display:flex;gap:8px}
    button{background:var(--accent);color:#fff;padding:8px 10px;border:0;border-radius:8px;cursor:pointer}
    .btn-ghost{background:transparent;border:1px solid #e6edf6;color:var(--accent)}
    .filters{display:flex;gap:8px;align-items:center}
    .small{font-size:12px;padding:6px 8px}
    /* Modal */
    .modal-back{position:fixed;inset:0;background:rgba(2,6,23,0.5);display:none;align-items:center;justify-content:center;padding:20px}
    .modal{background:#fff;width:100%;max-width:900px;border-radius:12px;padding:14px;box-shadow:0 20px 60px rgba(2,6,23,0.4)}
    .modal .close{float:right;border:0;background:transparent;font-size:18px}
    footer{max-width:1100px;margin:30px auto;color:var(--muted);font-size:13px;text-align:center}
    @media (max-width:600px){.controls{flex-wrap:wrap}.thumb{height:130px}}
  </style>
</head>
<body>
  <header>
    <div class="brand">Brainma</div>
    <div style="margin-left:12px;color:var(--muted)">High-school library — Grades 9 to 12</div><div class="controls">
  <label for="grade" class="meta">Grade</label>
  <select id="grade">
    <option value="all">All</option>
    <option value="9">Grade 9</option>
    <option value="10">Grade 10</option>
    <option value="11">Grade 11</option>
    <option value="12">Grade 12</option>
  </select>

  <label for="rtype" class="meta">Resource</label>
  <select id="rtype">
    <option value="videos">Videos</option>
    <option value="books">Books</option>
    <option value="papers">PastPapers</option>
    <option value="sheets">Sheets</option>
  </select>

  <div class="filters" id="video-filters" style="display:none">
    <select id="subject-filter"><option value="all">All Subjects</option></select>
    <select id="unit-filter"><option value="all">All Units</option></select>
  </div>

  <input type="search" id="search" placeholder="Search title, subject..." />
  <button id="add-sample" class="small btn-ghost">+ Sample data</button>
</div>

  </header>  <main>
    <section id="list-area">
      <div class="grid" id="resource-grid"></div>
    </section>
  </main>  <div class="modal-back" id="modal-back">
    <div class="modal" role="dialog">
      <button class="close" id="modal-close">✕</button>
      <div id="modal-content"></div>
    </div>
  </div>  <footer>Made with ❤️ for students • Edit DATA inside this file to add resources • Host on GitHub Pages</footer>  <script>
    // ----------------------
    // DATA: add your resources here
    // Each item: id, type: videos|books|papers|sheets, title, grade, subject, unit (videos only), url, thumbnail
    // ----------------------
    let DATA = [
      // sample item
      // {id:1,type:'videos',title:'Photosynthesis - Unit 1',grade:9,subject:'Biology',unit:'1',url:'media/photosynthesis.mp4',thumbnail:'media/thumb1.jpg'},
    ];

    // Helper: get unique values
    const uniq = (arr) => [...new Set(arr.filter(Boolean))];

    // DOM refs
    const gradeEl = document.getElementById('grade');
    const rtypeEl = document.getElementById('rtype');
    const grid = document.getElementById('resource-grid');
    const searchEl = document.getElementById('search');
    const modalBack = document.getElementById('modal-back');
    const modalContent = document.getElementById('modal-content');
    const modalClose = document.getElementById('modal-close');
    const videoFilters = document.getElementById('video-filters');
    const subjectFilter = document.getElementById('subject-filter');
    const unitFilter = document.getElementById('unit-filter');
    const addSample = document.getElementById('add-sample');

    // Render resources according to filters
    function render(){
      const grade = gradeEl.value;
      const type = rtypeEl.value;
      const q = searchEl.value.trim().toLowerCase();

      // show video extra filters only for videos
      videoFilters.style.display = (type === 'videos') ? 'flex' : 'none';

      let items = DATA.filter(it => it.type === type);
      if(grade !== 'all') items = items.filter(it => String(it.grade) === String(grade));
      if(q) items = items.filter(it => (it.title+ ' ' + (it.subject||'')).toLowerCase().includes(q));

      // apply video-specific filters
      if(type === 'videos'){
        const subj = subjectFilter.value;
        const unit = unitFilter.value;
        if(subj && subj !== 'all') items = items.filter(it => it.subject === subj);
        if(unit && unit !== 'all') items = items.filter(it => it.unit === unit);
      }

      grid.innerHTML = items.map(itemCard).join('') || '<div style="grid-column:1/-1;color:var(--muted);padding:20px;background:#fff;border-radius:12px;">No resources found. Add some in DATA or try another filter.</div>';
    }

    function itemCard(it){
      const thumb = it.thumbnail ? `<img src="${it.thumbnail}" alt="thumb">` : `<div style="padding:12px;color:var(--muted)">${it.type.toUpperCase()}</div>`;
      return `
      <article class="card">
        <div class="thumb">${thumb}</div>
        <div class="title">${escapeHtml(it.title)}</div>
        <div class="meta">Grade ${it.grade} • ${it.subject || '—'} ${it.unit? '• Unit ' + it.unit : ''}</div>
        <div class="row" style="margin-top:auto">
          <button onclick="viewResource(${it.id})">Preview</button>
          <a href="${it.url}" download class="small btn-ghost" style="text-decoration:none;padding:8px 10px;border-radius:8px;align-self:center">Download</a>
        </div>
      </article>`;
    }

    // escape for safety
    function escapeHtml(s){ return String(s).replace(/[&<>"']/g, c=> ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"})[c]); }

    // Preview in modal: if video -> <video>, if pdf -> embed, if other -> link
    function viewResource(id){
      const it = DATA.find(x=>x.id===id);
      if(!it) return alert('Resource not found');
      let html='';
      if(it.type === 'videos'){
        html = `
          <h3 style="margin-top:0">${escapeHtml(it.title)}</h3>
          <video controls style="width:100%;max-height:60vh" src="${it.url}"></video>
          <p class="meta">Subject: ${it.subject || '—'} • Grade ${it.grade} • Unit ${it.unit || '—'}</p>
        `;
      } else if(it.url && it.url.endsWith('.pdf')){
        html = `
          <h3 style="margin-top:0">${escapeHtml(it.title)}</h3>
          <iframe src="${it.url}" style="width:100%;height:70vh;border:0"></iframe>
        `;
      } else {
        html = `
          <h3 style="margin-top:0">${escapeHtml(it.title)}</h3>
          <p class="meta">Type: ${it.type}</p>
          <p><a href="${it.url}" target="_blank">Open resource in new tab</a></p>
        `;
      }
      modalContent.innerHTML = html;
      modalBack.style.display = 'flex';
    }
    modalClose.onclick = ()=> modalBack.style.display = 'none';
    modalBack.onclick = (e)=>{ if(e.target === modalBack) modalBack.style.display='none'; }

    // Build subject and unit dropdowns for videos dynamically
    function populateVideoFilters(){
      const videos = DATA.filter(d=>d.type==='videos');
      const subjects = uniq(videos.map(v=>v.subject)).sort();
      const units = uniq(videos.map(v=>v.unit)).sort((a,b)=>Number(a||0)-Number(b||0));
      subjectFilter.innerHTML = '<option value="all">All Subjects</option>' + subjects.map(s=>`<option value="${s}">${s}</option>`).join('');
      unitFilter.innerHTML = '<option value="all">All Units</option>' + units.map(u=>`<option value="${u}">${u}</option>`).join('');
    }

    // Event listeners
    gradeEl.addEventListener('change',render);
    rtypeEl.addEventListener('change',()=>{ populateVideoFilters(); render(); });
    searchEl.addEventListener('input', ()=> setTimeout(render,100));
    subjectFilter.addEventListener('change',render);
    unitFilter.addEventListener('change',render);

    // Utility: add sample data for testing
    addSample.addEventListener('click',()=>{
      DATA = [
        {id:1,type:'videos',title:'Photosynthesis - Unit 1',grade:9,subject:'Biology',unit:'1',url:'media/photosynthesis.mp4',thumbnail:'media/thumb1.jpg'},
        {id:2,type:'videos',title:'Newton Laws - Unit 2',grade:10,subject:'Physics',unit:'2',url:'media/newton.mp4',thumbnail:'media/thumb2.jpg'},
        {id:3,type:'books',title:'Mathematics Grade 9 (Algebra)',grade:9,subject:'Mathematics',url:'media/math9-algebra.pdf',thumbnail:''},
        {id:4,type:'papers',title:'Grade 11 Past Exam 2022',grade:11,subject:'Chemistry',url:'media/chem11-2022.pdf',thumbnail:''},
        {id:5,type:'sheets',title:'Biology Practice Sheet - Cells',grade:10,subject:'Biology',url:'media/cells-sheet.pdf',thumbnail:''}
      ];
      populateVideoFilters(); render();
    });

    // On load: render (empty until data added)
    populateVideoFilters(); render();

    // Optional: You can add CRUD functions here to add resources via a simple form, or store DATA in localStorage.
    // Example: save DATA to localStorage on change:
    function saveToLocal(){ localStorage.setItem('brainma_data', JSON.stringify(DATA)); }
    function loadFromLocal(){ try{ const s = localStorage.getItem('brainma_data'); if(s){ DATA = JSON.parse(s); populateVideoFilters(); render(); } }catch(e){} }
    // loadFromLocal(); // uncomment to persist between reloads

    // Accessibility helpers: keyboard close modal
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') modalBack.style.display='none'; });

  </script></body>
</html>